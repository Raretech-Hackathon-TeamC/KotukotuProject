<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Badge List</title>
    <style>
        .badge {
            margin: 10px;
            padding: 10px;
            border-radius: 5px;
            color: white;
        }
        .bronze {
            background-color: #cd7f32;
        }
        .silver {
            background-color: #c0c0c0;
        }
        .gold {
            background-color: #ffd700;
        }
        .platinum {
            background-color: #e5e4e2;
        }
        .diamond {
            background-color: #b9f2ff;
        }
        .locked {
            filter: grayscale(100%);
        }
    </style>
</head>
<body>
    <div id="badgeList"></div>

    <script>
        window.onload = function() {
            fetch('/badges/ajax_get_data/')
            .then(response => response.json())
            .then(data => {
              console.log(data);
                let badgeList = document.getElementById('badgeList');
                data.forEach(badge => {
                    let badgeDiv = document.createElement('div');
                    badgeDiv.className = `badge ${badge.badge_type.toLowerCase()} ${badge.is_unlocked ? '' : 'locked'}`;
                    badgeDiv.innerHTML = `
                        <h3>${badge.badge_name}</h3>
                        <p>${badge.badge_description}</p>
                        <p>${badge.is_unlocked ? '解除日: ' + badge.date_unlocked : '未解除'}</p>
                    `;
                    badgeList.appendChild(badgeDiv);
                });
            });
        };
    </script>
</body>
</html>
